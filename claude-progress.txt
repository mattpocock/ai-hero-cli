The idea of this sprint of work is to take each part of this PRD, each PRD item should correspond to a unit test or several unit tests that test whether that feature works correctly. Then you can mark them as passing (true) if you run the tests and they pass.

To do this, you should mock the prompt-service and the git-service. I definitely don't want to be running git on every test. These tests should really just test the business logic.

I've added some examples in cherry-pick.test.ts.

---

## Session 2026-01-01

Added test for PRD: "User is prompted to create branch when on main" (cherry-pick command).

Changes:
- Extracted `runCherryPick` function from cherry-pick.ts for testability
- Added test verifying: when on main, prompts for branch name, creates branch, proceeds w/ cherry-pick
- Fixed unused import (NodeContext) in git-service.ts

PRD item marked as tested=true.

---

## Session 2026-01-01 (cont.)

Added test for PRD: "User runs cherry-pick outside git repo" (cherry-pick error case).

Changes:
- Added test in cherry-pick.test.ts that mocks ensureIsGitRepo to fail with NotAGitRepoError
- Verified runCherryPick propagates NotAGitRepoError with correct path/message

PRD item marked as tested=true.

---

## Session 2026-01-01 (cont. 2)

Added test for PRD: "User runs reset outside git repo" (reset error case).

Changes:
- Extracted `runReset` function from reset.ts for testability (same pattern as cherry-pick)
- Removed duplicate NotAGitRepoError from reset.ts (uses git-service.ts version)
- Created test/reset.test.ts with test for NotAGitRepoError case

PRD item marked as tested=true.
